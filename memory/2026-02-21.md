# 2026-02-21 记忆

## 📝 今日工作

### HomeBox Local 本地版设计
- **GitHub 仓库**: https://github.com/huweiopenclaw/homebox-local
- **完成内容**:
  - ✅ PRD 产品需求文档
  - ✅ 技术架构设计 (DESIGN.md)
  - ✅ Android 原生版设计
  - ✅ 微信小程序版设计

### 任务看板同步修复
- **问题**: 任务看板使用 localStorage，HOC 工作任务无法同步
- **解决方案**:
  - 添加 `memory/tasks.json` 作为共享数据源
  - 添加 API 端点 `/api/tasks` 读写任务
  - 添加命令行工具 `scripts/sync-task.js`
  - 任务看板启动时从 API 加载任务

### 技术决策
| 决策 | 说明 |
|------|------|
| 任务数据源 | 使用文件系统 `memory/tasks.json` 而非纯 localStorage |
| 同步方式 | 任务看板 → API → 文件系统 ← HOC 直接编辑 |
| 备份机制 | 保留 localStorage 作为离线缓存 |

---

## 🔧 修复记录

### 任务看板数据同步
- **文件**: `projects/task-board/src/app/api/tasks/route.ts` (新增)
- **文件**: `projects/task-board/scripts/sync-task.js` (新增)
- **文件**: `memory/tasks.json` (新增)
- **修改**: `projects/task-board/src/app/page.tsx` - 添加 API 数据加载
