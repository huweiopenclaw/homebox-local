# 🚀 HOC 团队调度系统

## 团队架构

```
                    ┌─────────────┐
                    │     HOC     │
                    │   (总指挥)   │
                    └──────┬──────┘
                           │
        ┌──────────────────┼──────────────────┐
        │                  │                  │
   ┌────┴────┐       ┌─────┴─────┐      ┌────┴────┐
   │  开发   │       │   内容    │      │  运营   │
   │  团队   │       │   团队    │      │  团队   │
   └────┬────┘       └─────┬─────┘      └────┬────┘
        │                  │                  │
   ┌────┼────┐        ┌────┼────┐        ┌────┼────┐
   │    │    │        │    │    │        │    │    │
CodeDev BugHunter  ContentWriter  TaskManager
   │    │         DocMaster      Scheduler
TestRunner
```

## 子代理能力矩阵

| 代理 | 角色 | 核心能力 | 适用场景 |
|------|------|----------|----------|
| CodeDev | 开发 | 代码编写、框架开发 | 新功能、API、前后端 |
| BugHunter | 开发 | 调试、修复、优化 | Bug修复、性能问题 |
| TestRunner | 开发 | 测试、CI/CD | 测试用例、自动化 |
| ContentWriter | 写作 | 文案、文章 | 营销内容、博客 |
| DocMaster | 写作 | 技术文档 | API文档、手册 |
| UIDesigner | 设计 | UI/UX设计 | 界面设计、体验优化 |
| DataViz | 设计 | 数据可视化 | 图表、仪表板 |
| WebSearcher | 研究 | 搜索、调研 | 资料收集、竞品分析 |
| DataAnalyst | 研究 | 数据分析 | 报表、洞察 |
| TaskManager | 运营 | 任务管理 | 协调、分配 |
| Scheduler | 运营 | 日程管理 | 提醒、定时 |

## 任务路由规则

### 关键词匹配
```
开发类 → CodeDev
- 关键词: 开发、实现、编写代码、创建功能、重构
- 文件类型: .ts, .js, .py, .tsx, .jsx

调试类 → BugHunter
- 关键词: bug、错误、修复、调试、问题、崩溃
- 场景: 报错处理、异常修复

测试类 → TestRunner
- 关键词: 测试、test、单元测试、集成测试
- 场景: 质量保证、CI配置

文档类 → DocMaster
- 关键词: 文档、README、API文档、说明
- 场景: 技术文档、用户手册

内容类 → ContentWriter
- 关键词: 文章、文案、博客、内容
- 场景: 营销内容、SEO

设计类 → UIDesigner
- 关键词: UI、界面、设计、样式、CSS
- 场景: 界面优化、交互设计

可视化类 → DataViz
- 关键词: 图表、可视化、dashboard、仪表板
- 场景: 数据展示

搜索类 → WebSearcher
- 关键词: 搜索、查找、调研、了解
- 场景: 信息收集、学习

分析类 → DataAnalyst
- 关键词: 分析、数据、统计、报表
- 场景: 数据洞察

管理类 → TaskManager
- 关键词: 分配、协调、管理、跟踪
- 场景: 多人协作

日程类 → Scheduler
- 关键词: 提醒、日程、定时、计划
- 场景: 时间管理
```

## 调度优先级

1. **单任务优先** - 单个子代理能完成的任务优先
2. **并行执行** - 独立任务可同时分配给多个子代理
3. **串行依赖** - 有依赖关系的任务按顺序执行
4. **能力匹配** - 选择最擅长该任务的子代理

## 使用方式

### HOC 调度子代理
```typescript
// 通过 sessions_spawn 调度子代理
sessions_spawn({
  agentId: "codedev",  // 子代理 ID
  task: "具体任务描述",
  thinking: "high"     // 思考级别
})
```

### 任务完成汇报
子代理完成后会向 HOC 汇报：
- 完成的工作内容
- 创建/修改的文件
- 关键决策
- 后续建议

## 调度示例

### 示例1：开发新功能
```
主人请求: "帮我开发一个用户登录功能"

HOC 调度:
1. WebSearcher → 搜索最佳实践
2. CodeDev → 实现登录功能
3. TestRunner → 编写测试用例
4. DocMaster → 更新 API 文档
```

### 示例2：修复 Bug
```
主人请求: "用户反馈登录页面报错"

HOC 调度:
1. BugHunter → 定位并修复问题
2. TestRunner → 添加回归测试
```

### 示例3：创建文档
```
主人请求: "给新功能写个使用文档"

HOC 调度:
1. DocMaster → 编写用户文档
2. ContentWriter → 润色表达
```

## 状态更新

Mission Control 中会实时显示子代理状态：
- 🟢 工作中 - 正在执行任务
- 🟡 空闲 - 可接受任务
- ⚫ 离线 - 不可用

---

*此文件定义了 HOC 团队的调度规则，确保任务被分配给最合适的子代理。*
